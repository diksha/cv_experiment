# Generated by Django 4.0.3 on 2022-04-22 18:14

from django.db import migrations, models

def populate_key_field(apps, *_):
    Zone = apps.get_model("zones", "Zone")

    for zone in Zone.objects.all():
        zone.key = zone.name.replace(" ","_")
        zone.save()

class Migration(migrations.Migration):

    dependencies = [
        ('zones', '0001_initial'),
    ]

    operations = [
        migrations.AddField(
            model_name='zone',
            name='key',
            field=models.CharField(max_length=50),
        ),
        migrations.RunPython(populate_key_field, migrations.RunPython.noop),
        migrations.AlterField(
            model_name='zone',
            name='key',
            field=models.CharField(max_length=50, unique=True),
        ),
    ]


