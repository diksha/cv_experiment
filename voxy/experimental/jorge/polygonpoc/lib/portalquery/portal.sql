--
-- PostgreSQL database dump
--

-- Dumped from database version 15.1 (Debian 15.1-1.pgdg110+1)
-- Dumped by pg_dump version 15.1 (Debian 15.1-1.pgdg110+1)

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: camera_incident_type; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.camera_incident_type (
    id bigint NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    deleted_at timestamp with time zone,
    enabled boolean NOT NULL,
    review_level character varying(20) NOT NULL,
    camera_id bigint NOT NULL,
    incident_type_id bigint NOT NULL
);


ALTER TABLE public.camera_incident_type OWNER TO voxelapp;

--
-- Name: api_cameraincidenttype_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.camera_incident_type ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.api_cameraincidenttype_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: api_comment; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.api_comment (
    id bigint NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    deleted_at timestamp with time zone,
    text character varying(1000) NOT NULL,
    incident_id bigint,
    owner_id integer,
    activity_type character varying(100),
    note character varying(1000)
);


ALTER TABLE public.api_comment OWNER TO voxelapp;

--
-- Name: api_comment_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.api_comment ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.api_comment_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: api_incident; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.api_incident (
    id bigint NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    title character varying(100) NOT NULL,
    "timestamp" timestamp with time zone NOT NULL,
    status character varying(20) NOT NULL,
    data jsonb,
    organization_id bigint,
    priority character varying(20) NOT NULL,
    deleted_at timestamp with time zone,
    incident_type_id bigint,
    invalid_feedback_count smallint NOT NULL,
    unsure_feedback_count smallint NOT NULL,
    valid_feedback_count smallint NOT NULL,
    experimental boolean NOT NULL,
    uuid uuid,
    review_level character varying(20) NOT NULL,
    camera_id bigint,
    zone_id bigint,
    corrupt_feedback_count smallint NOT NULL,
    visible_to_customers boolean NOT NULL,
    alerted boolean NOT NULL,
    last_feedback_submission_timestamp timestamp with time zone,
    highlighted boolean,
    CONSTRAINT api_incident_corrupt_feedback_count_check CHECK ((corrupt_feedback_count >= 0)),
    CONSTRAINT api_incident_invalid_feedback_count_check CHECK ((invalid_feedback_count >= 0)),
    CONSTRAINT api_incident_unsure_feedback_count_check CHECK ((unsure_feedback_count >= 0)),
    CONSTRAINT api_incident_valid_feedback_count_check CHECK ((valid_feedback_count >= 0))
);


ALTER TABLE public.api_incident OWNER TO voxelapp;

--
-- Name: api_incident_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.api_incident ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.api_incident_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: api_incidentfeedback; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.api_incidentfeedback (
    id bigint NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    feedback_type character varying(100) NOT NULL,
    feedback_value character varying(100) NOT NULL,
    feedback_text text,
    incident_id bigint NOT NULL,
    user_id integer NOT NULL,
    deleted_at timestamp with time zone
);


ALTER TABLE public.api_incidentfeedback OWNER TO voxelapp;

--
-- Name: api_incidentfeedback_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.api_incidentfeedback ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.api_incidentfeedback_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: api_incidenttype; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.api_incidenttype (
    id bigint NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    deleted_at timestamp with time zone,
    value character varying(100) NOT NULL,
    background_color character varying(7) NOT NULL,
    key character varying(100) NOT NULL,
    name character varying(100) NOT NULL,
    category character varying(25),
    perceived_event_rate_denominator_category smallint,
    CONSTRAINT api_incidenttype_perceived_event_rate_denominator_categor_check CHECK ((perceived_event_rate_denominator_category >= 0))
);


ALTER TABLE public.api_incidenttype OWNER TO voxelapp;

--
-- Name: api_incidenttype_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.api_incidenttype ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.api_incidenttype_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: api_invitation; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.api_invitation (
    id bigint NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    deleted_at timestamp with time zone,
    token character varying(100),
    expires_at timestamp with time zone,
    invited_by_id integer,
    invitee_id integer,
    organization_id bigint,
    redeemed boolean,
    role_id bigint
);


ALTER TABLE public.api_invitation OWNER TO voxelapp;

--
-- Name: api_invitation_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.api_invitation ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.api_invitation_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: api_invitation_zones; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.api_invitation_zones (
    id bigint NOT NULL,
    invitation_id bigint NOT NULL,
    zone_id bigint NOT NULL
);


ALTER TABLE public.api_invitation_zones OWNER TO voxelapp;

--
-- Name: api_invitation_zones_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.api_invitation_zones ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.api_invitation_zones_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: api_list; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.api_list (
    id bigint NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    name character varying(250) NOT NULL,
    is_starred_list boolean NOT NULL,
    owner_id integer NOT NULL,
    deleted_at timestamp with time zone
);


ALTER TABLE public.api_list OWNER TO voxelapp;

--
-- Name: api_list_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.api_list ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.api_list_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: api_list_incidents; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.api_list_incidents (
    id bigint NOT NULL,
    list_id bigint NOT NULL,
    incident_id bigint NOT NULL
);


ALTER TABLE public.api_list_incidents OWNER TO voxelapp;

--
-- Name: api_list_incidents_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.api_list_incidents ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.api_list_incidents_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: api_notificationlog; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.api_notificationlog (
    id bigint NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    deleted_at timestamp with time zone,
    data jsonb,
    sent_at timestamp with time zone NOT NULL,
    user_id integer,
    incident_id bigint,
    category character varying(30)
);


ALTER TABLE public.api_notificationlog OWNER TO voxelapp;

--
-- Name: api_notificationlog_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.api_notificationlog ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.api_notificationlog_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: api_organization; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.api_organization (
    id bigint NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    name character varying(250) NOT NULL,
    key character varying(50) NOT NULL,
    deleted_at timestamp with time zone,
    is_sandbox boolean NOT NULL,
    timezone character varying(50) NOT NULL
);


ALTER TABLE public.api_organization OWNER TO voxelapp;

--
-- Name: api_organization_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.api_organization ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.api_organization_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: api_organization_users; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.api_organization_users (
    id bigint NOT NULL,
    organization_id bigint NOT NULL,
    user_id integer NOT NULL
);


ALTER TABLE public.api_organization_users OWNER TO voxelapp;

--
-- Name: api_organization_users_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.api_organization_users ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.api_organization_users_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: api_organizationincidenttype; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.api_organizationincidenttype (
    id bigint NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    deleted_at timestamp with time zone,
    enabled boolean NOT NULL,
    incident_type_id bigint NOT NULL,
    organization_id bigint NOT NULL,
    name_override character varying(100),
    review_level character varying(20) NOT NULL
);


ALTER TABLE public.api_organizationincidenttype OWNER TO voxelapp;

--
-- Name: api_organizationincidenttype_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.api_organizationincidenttype ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.api_organizationincidenttype_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: api_profile; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.api_profile (
    id bigint NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    owner_id integer NOT NULL,
    data jsonb,
    organization_id bigint,
    deleted_at timestamp with time zone,
    timezone character varying(50) NOT NULL,
    site_id bigint
);


ALTER TABLE public.api_profile OWNER TO voxelapp;

--
-- Name: api_profile_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.api_profile ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.api_profile_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: api_sharelink; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.api_sharelink (
    id bigint NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    deleted_at timestamp with time zone,
    token character varying(100),
    expires_at timestamp with time zone,
    visits integer NOT NULL,
    incident_id bigint,
    shared_by_id integer
);


ALTER TABLE public.api_sharelink OWNER TO voxelapp;

--
-- Name: api_sharelink_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.api_sharelink ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.api_sharelink_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: api_userincident; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.api_userincident (
    id bigint NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    deleted_at timestamp with time zone,
    note character varying(1000),
    assigned_by_id integer,
    assignee_id integer,
    incident_id bigint NOT NULL,
    organization_id bigint
);


ALTER TABLE public.api_userincident OWNER TO voxelapp;

--
-- Name: api_userincident_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.api_userincident ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.api_userincident_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: auth_group; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.auth_group (
    id integer NOT NULL,
    name character varying(150) NOT NULL
);


ALTER TABLE public.auth_group OWNER TO voxelapp;

--
-- Name: auth_group_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.auth_group ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.auth_group_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: auth_group_permissions; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.auth_group_permissions (
    id bigint NOT NULL,
    group_id integer NOT NULL,
    permission_id integer NOT NULL
);


ALTER TABLE public.auth_group_permissions OWNER TO voxelapp;

--
-- Name: auth_group_permissions_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.auth_group_permissions ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.auth_group_permissions_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: auth_permission; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.auth_permission (
    id integer NOT NULL,
    name character varying(255) NOT NULL,
    content_type_id integer NOT NULL,
    codename character varying(100) NOT NULL
);


ALTER TABLE public.auth_permission OWNER TO voxelapp;

--
-- Name: auth_permission_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.auth_permission ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.auth_permission_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: auth_user; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.auth_user (
    id integer NOT NULL,
    password character varying(128) NOT NULL,
    last_login timestamp with time zone,
    is_superuser boolean NOT NULL,
    username character varying(150) NOT NULL,
    first_name character varying(150) NOT NULL,
    last_name character varying(150) NOT NULL,
    email character varying(254) NOT NULL,
    is_staff boolean NOT NULL,
    is_active boolean NOT NULL,
    date_joined timestamp with time zone NOT NULL
);


ALTER TABLE public.auth_user OWNER TO voxelapp;

--
-- Name: auth_user_groups; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.auth_user_groups (
    id bigint NOT NULL,
    user_id integer NOT NULL,
    group_id integer NOT NULL
);


ALTER TABLE public.auth_user_groups OWNER TO voxelapp;

--
-- Name: auth_user_groups_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.auth_user_groups ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.auth_user_groups_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: auth_user_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.auth_user ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.auth_user_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: auth_user_user_permissions; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.auth_user_user_permissions (
    id bigint NOT NULL,
    user_id integer NOT NULL,
    permission_id integer NOT NULL
);


ALTER TABLE public.auth_user_user_permissions OWNER TO voxelapp;

--
-- Name: auth_user_user_permissions_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.auth_user_user_permissions ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.auth_user_user_permissions_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: authtoken_token; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.authtoken_token (
    key character varying(40) NOT NULL,
    created timestamp with time zone NOT NULL,
    user_id integer NOT NULL
);


ALTER TABLE public.authtoken_token OWNER TO voxelapp;

--
-- Name: camera; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.camera (
    id bigint NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    deleted_at timestamp with time zone,
    uuid character varying(250) NOT NULL,
    name character varying(250) NOT NULL,
    organization_id bigint,
    zone_id bigint,
    thumbnail_gcs_path character varying(250),
    edge_id bigint,
    lifecycle character varying(64),
    thumbnail_s3_path character varying(250)
);


ALTER TABLE public.camera OWNER TO voxelapp;

--
-- Name: camera_lifecycle; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.camera_lifecycle (
    id bigint NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    deleted_at timestamp with time zone,
    key character varying(64) NOT NULL,
    description character varying(256) NOT NULL
);


ALTER TABLE public.camera_lifecycle OWNER TO voxelapp;

--
-- Name: camera_lifecycle_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.camera_lifecycle ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.camera_lifecycle_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: cameraconfignew; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.cameraconfignew (
    id bigint NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    deleted_at timestamp with time zone,
    doors jsonb,
    driving_areas jsonb,
    actionable_regions jsonb,
    intersections jsonb,
    end_of_aisles jsonb,
    no_pedestrian_zones jsonb,
    version integer NOT NULL,
    camera_id bigint NOT NULL,
    motion_detection_zones jsonb
);


ALTER TABLE public.cameraconfignew OWNER TO voxelapp;

--
-- Name: cameraconfignew_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.cameraconfignew ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.cameraconfignew_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: cameras_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.camera ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.cameras_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: compliance_type; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.compliance_type (
    id bigint NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    deleted_at timestamp with time zone,
    key character varying(100) NOT NULL,
    name character varying(250) NOT NULL
);


ALTER TABLE public.compliance_type OWNER TO voxelapp;

--
-- Name: compliance_type_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.compliance_type ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.compliance_type_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: django_admin_log; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.django_admin_log (
    id integer NOT NULL,
    action_time timestamp with time zone NOT NULL,
    object_id text,
    object_repr character varying(200) NOT NULL,
    action_flag smallint NOT NULL,
    change_message text NOT NULL,
    content_type_id integer,
    user_id integer NOT NULL,
    CONSTRAINT django_admin_log_action_flag_check CHECK ((action_flag >= 0))
);


ALTER TABLE public.django_admin_log OWNER TO voxelapp;

--
-- Name: django_admin_log_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.django_admin_log ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.django_admin_log_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: django_content_type; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.django_content_type (
    id integer NOT NULL,
    app_label character varying(100) NOT NULL,
    model character varying(100) NOT NULL
);


ALTER TABLE public.django_content_type OWNER TO voxelapp;

--
-- Name: django_content_type_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.django_content_type ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.django_content_type_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: django_migrations; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.django_migrations (
    id bigint NOT NULL,
    app character varying(255) NOT NULL,
    name character varying(255) NOT NULL,
    applied timestamp with time zone NOT NULL
);


ALTER TABLE public.django_migrations OWNER TO voxelapp;

--
-- Name: django_migrations_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.django_migrations ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.django_migrations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: django_plotly_dash_dashapp; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.django_plotly_dash_dashapp (
    id integer NOT NULL,
    instance_name character varying(100) NOT NULL,
    slug character varying(110) NOT NULL,
    base_state text NOT NULL,
    creation timestamp with time zone NOT NULL,
    update timestamp with time zone NOT NULL,
    save_on_change boolean NOT NULL,
    stateless_app_id integer NOT NULL
);


ALTER TABLE public.django_plotly_dash_dashapp OWNER TO voxelapp;

--
-- Name: django_plotly_dash_dashapp_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.django_plotly_dash_dashapp ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.django_plotly_dash_dashapp_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: django_plotly_dash_statelessapp; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.django_plotly_dash_statelessapp (
    id integer NOT NULL,
    app_name character varying(100) NOT NULL,
    slug character varying(110) NOT NULL
);


ALTER TABLE public.django_plotly_dash_statelessapp OWNER TO voxelapp;

--
-- Name: django_plotly_dash_statelessapp_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.django_plotly_dash_statelessapp ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.django_plotly_dash_statelessapp_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: django_session; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.django_session (
    session_key character varying(40) NOT NULL,
    session_data text NOT NULL,
    expire_date timestamp with time zone NOT NULL
);


ALTER TABLE public.django_session OWNER TO voxelapp;

--
-- Name: django_site; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.django_site (
    id integer NOT NULL,
    domain character varying(100) NOT NULL,
    name character varying(50) NOT NULL
);


ALTER TABLE public.django_site OWNER TO voxelapp;

--
-- Name: django_site_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.django_site ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.django_site_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: door_event_aggregates; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.door_event_aggregates (
    id bigint NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    deleted_at timestamp with time zone,
    group_key timestamp with time zone NOT NULL,
    group_by character varying(25) NOT NULL,
    max_timestamp timestamp with time zone NOT NULL,
    opened_count integer NOT NULL,
    closed_within_30_seconds_count integer NOT NULL,
    closed_within_1_minute_count integer NOT NULL,
    closed_within_5_minutes_count integer NOT NULL,
    closed_within_10_minutes_count integer NOT NULL,
    camera_id bigint NOT NULL,
    organization_id bigint NOT NULL,
    zone_id bigint NOT NULL,
    CONSTRAINT door_event_aggregates_closed_within_10_minutes_count_check CHECK ((closed_within_10_minutes_count >= 0)),
    CONSTRAINT door_event_aggregates_closed_within_1_minute_count_check CHECK ((closed_within_1_minute_count >= 0)),
    CONSTRAINT door_event_aggregates_closed_within_30_seconds_count_check CHECK ((closed_within_30_seconds_count >= 0)),
    CONSTRAINT door_event_aggregates_closed_within_5_minutes_count_check CHECK ((closed_within_5_minutes_count >= 0)),
    CONSTRAINT door_event_aggregates_opened_count_check CHECK ((opened_count >= 0))
);


ALTER TABLE public.door_event_aggregates OWNER TO voxelapp;

--
-- Name: door_event_aggregates_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.door_event_aggregates ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.door_event_aggregates_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: door_open_aggregates; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.door_open_aggregates (
    id bigint NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    deleted_at timestamp with time zone,
    group_key timestamp with time zone NOT NULL,
    group_by character varying(25) NOT NULL,
    max_timestamp timestamp with time zone NOT NULL,
    open_time_duration_s integer NOT NULL,
    close_time_duration_s integer NOT NULL,
    partially_open_time_duration_s integer NOT NULL,
    camera_id bigint NOT NULL,
    organization_id bigint NOT NULL,
    zone_id bigint NOT NULL,
    CONSTRAINT door_open_aggregates_close_time_duration_s_check CHECK ((close_time_duration_s >= 0)),
    CONSTRAINT door_open_aggregates_open_time_duration_s_check CHECK ((open_time_duration_s >= 0)),
    CONSTRAINT door_open_aggregates_partially_open_time_duration_s_check CHECK ((partially_open_time_duration_s >= 0))
);


ALTER TABLE public.door_open_aggregates OWNER TO voxelapp;

--
-- Name: door_open_aggregates_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.door_open_aggregates ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.door_open_aggregates_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: edge; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.edge (
    uuid uuid NOT NULL,
    id bigint NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    deleted_at timestamp with time zone,
    mac_address character varying(256),
    name character varying(256) NOT NULL,
    serial character varying(64),
    lifecycle character varying(64) NOT NULL,
    organization_id bigint
);


ALTER TABLE public.edge OWNER TO voxelapp;

--
-- Name: edge_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.edge ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.edge_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: edge_lifecycle; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.edge_lifecycle (
    id bigint NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    deleted_at timestamp with time zone,
    key character varying(64) NOT NULL,
    description character varying(256) NOT NULL
);


ALTER TABLE public.edge_lifecycle OWNER TO voxelapp;

--
-- Name: edge_lifecycle_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.edge_lifecycle ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.edge_lifecycle_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: ergonomics_aggregates; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.ergonomics_aggregates (
    id bigint NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    deleted_at timestamp with time zone,
    group_key timestamp with time zone NOT NULL,
    group_by character varying(25) NOT NULL,
    max_timestamp timestamp with time zone NOT NULL,
    total_posture_count integer NOT NULL,
    good_posture_count integer NOT NULL,
    bad_posture_count integer NOT NULL,
    unknown_posture_count integer NOT NULL,
    camera_id bigint NOT NULL,
    organization_id bigint NOT NULL,
    zone_id bigint NOT NULL,
    CONSTRAINT ergonomics_aggregates_bad_posture_count_check CHECK ((bad_posture_count >= 0)),
    CONSTRAINT ergonomics_aggregates_good_posture_count_check CHECK ((good_posture_count >= 0)),
    CONSTRAINT ergonomics_aggregates_total_posture_count_check CHECK ((total_posture_count >= 0)),
    CONSTRAINT ergonomics_aggregates_unknown_posture_count_check CHECK ((unknown_posture_count >= 0))
);


ALTER TABLE public.ergonomics_aggregates OWNER TO voxelapp;

--
-- Name: ergonomics_aggregates_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.ergonomics_aggregates ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.ergonomics_aggregates_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: motion_zone; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.motion_zone (
    id bigint NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    deleted_at timestamp with time zone,
    uuid character varying(250) NOT NULL,
    name character varying(250) NOT NULL,
    camera_id bigint NOT NULL,
    organization_id bigint NOT NULL,
    zone_id bigint NOT NULL
);


ALTER TABLE public.motion_zone OWNER TO voxelapp;

--
-- Name: motion_zone_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.motion_zone ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.motion_zone_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: partial_incident; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.partial_incident (
    id bigint NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    deleted_at timestamp with time zone,
    uuid uuid,
    title character varying(100) NOT NULL,
    "timestamp" timestamp with time zone NOT NULL,
    data jsonb,
    camera_id bigint,
    incident_type_id bigint,
    organization_id bigint,
    zone_id bigint
);


ALTER TABLE public.partial_incident OWNER TO voxelapp;

--
-- Name: partial_incident_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.partial_incident ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.partial_incident_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: perceived_actor_state_duration_aggregate; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.perceived_actor_state_duration_aggregate (
    id bigint NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    deleted_at timestamp with time zone,
    time_bucket_start_timestamp timestamp with time zone NOT NULL,
    time_bucket_width smallint NOT NULL,
    category smallint NOT NULL,
    duration interval NOT NULL,
    camera_uuid character varying(250) NOT NULL,
    CONSTRAINT perceived_actor_state_duration_aggregat_time_bucket_width_check CHECK ((time_bucket_width >= 0)),
    CONSTRAINT perceived_actor_state_duration_aggregate_category_check CHECK ((category >= 0))
);


ALTER TABLE public.perceived_actor_state_duration_aggregate OWNER TO voxelapp;

--
-- Name: perceived_actor_state_duration_aggregate_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.perceived_actor_state_duration_aggregate ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.perceived_actor_state_duration_aggregate_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: perceived_event_rate_definition; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.perceived_event_rate_definition (
    id bigint NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    deleted_at timestamp with time zone,
    name character varying(100) NOT NULL,
    calculation_method smallint NOT NULL,
    perceived_actor_state_duration_category smallint NOT NULL,
    incident_type_id bigint NOT NULL,
    CONSTRAINT perceived_event_rate_definit_perceived_actor_state_durati_check CHECK ((perceived_actor_state_duration_category >= 0)),
    CONSTRAINT perceived_event_rate_definition_calculation_method_check CHECK ((calculation_method >= 0))
);


ALTER TABLE public.perceived_event_rate_definition OWNER TO voxelapp;

--
-- Name: perceived_event_rate_definition_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.perceived_event_rate_definition ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.perceived_event_rate_definition_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: perceived_event_rate_hourly; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.perceived_event_rate_hourly (
    id bigint NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    deleted_at timestamp with time zone,
    time_bucket_start_timestamp timestamp with time zone NOT NULL,
    numerator_value numeric(19,10) NOT NULL,
    denominator_value numeric(19,10) NOT NULL,
    camera_id bigint NOT NULL,
    definition_id bigint NOT NULL
);


ALTER TABLE public.perceived_event_rate_hourly OWNER TO voxelapp;

--
-- Name: perceived_event_rate_hourly_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.perceived_event_rate_hourly ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.perceived_event_rate_hourly_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: ppe_aggregates; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.ppe_aggregates (
    id bigint NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    deleted_at timestamp with time zone,
    group_key timestamp with time zone NOT NULL,
    group_by character varying(25) NOT NULL,
    max_timestamp timestamp with time zone NOT NULL,
    camera_id bigint NOT NULL,
    organization_id bigint NOT NULL,
    zone_id bigint NOT NULL,
    hard_hat_not_wearing_duration_ms integer NOT NULL,
    hard_hat_wearing_duration_ms integer NOT NULL,
    safety_vest_not_wearing_duration_ms integer NOT NULL,
    safety_vest_wearing_duration_ms integer NOT NULL,
    CONSTRAINT ppe_aggregates_hard_hat_not_wearing_duration_ms_check CHECK ((hard_hat_not_wearing_duration_ms >= 0)),
    CONSTRAINT ppe_aggregates_hard_hat_wearing_duration_ms_check CHECK ((hard_hat_wearing_duration_ms >= 0)),
    CONSTRAINT ppe_aggregates_safety_vest_not_wearing_duration_ms_check CHECK ((safety_vest_not_wearing_duration_ms >= 0)),
    CONSTRAINT ppe_aggregates_safety_vest_wearing_duration_ms_check CHECK ((safety_vest_wearing_duration_ms >= 0))
);


ALTER TABLE public.ppe_aggregates OWNER TO voxelapp;

--
-- Name: ppe_aggregates_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.ppe_aggregates ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.ppe_aggregates_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: production_line; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.production_line (
    id bigint NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    deleted_at timestamp with time zone,
    uuid character varying(250) NOT NULL,
    name character varying(250) NOT NULL,
    camera_id bigint NOT NULL,
    organization_id bigint NOT NULL,
    zone_id bigint NOT NULL
);


ALTER TABLE public.production_line OWNER TO voxelapp;

--
-- Name: production_line_aggregate; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.production_line_aggregate (
    id bigint NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    deleted_at timestamp with time zone,
    group_key timestamp with time zone NOT NULL,
    group_by character varying(25) NOT NULL,
    max_timestamp timestamp with time zone NOT NULL,
    uptime_duration_s integer NOT NULL,
    downtime_duration_s integer NOT NULL,
    camera_id bigint NOT NULL,
    organization_id bigint NOT NULL,
    production_line_id bigint NOT NULL,
    zone_id bigint NOT NULL,
    CONSTRAINT production_line_aggregate_downtime_duration_s_check CHECK ((downtime_duration_s >= 0)),
    CONSTRAINT production_line_aggregate_uptime_duration_s_check CHECK ((uptime_duration_s >= 0))
);


ALTER TABLE public.production_line_aggregate OWNER TO voxelapp;

--
-- Name: production_line_aggregate_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.production_line_aggregate ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.production_line_aggregate_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: production_line_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.production_line ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.production_line_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: role; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.role (
    id bigint NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    deleted_at timestamp with time zone,
    key character varying(250) NOT NULL,
    name character varying(250) NOT NULL,
    organization_id bigint,
    zone_id bigint,
    visible_to_customers boolean NOT NULL
);


ALTER TABLE public.role OWNER TO voxelapp;

--
-- Name: role_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.role ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.role_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: role_permission; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.role_permission (
    id bigint NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    deleted_at timestamp with time zone,
    permission_key character varying(100) NOT NULL,
    assigned_at timestamp with time zone NOT NULL,
    removed_at timestamp with time zone,
    assigned_by_id integer,
    removed_by_id integer,
    role_id bigint NOT NULL
);


ALTER TABLE public.role_permission OWNER TO voxelapp;

--
-- Name: role_permission_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.role_permission ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.role_permission_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: site_incident_type; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.site_incident_type (
    id bigint NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    deleted_at timestamp with time zone,
    enabled boolean NOT NULL,
    name_override character varying(100),
    review_level character varying(20) NOT NULL,
    incident_type_id bigint NOT NULL,
    site_id bigint NOT NULL
);


ALTER TABLE public.site_incident_type OWNER TO voxelapp;

--
-- Name: site_incident_type_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.site_incident_type ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.site_incident_type_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: user_role; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.user_role (
    id bigint NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    deleted_at timestamp with time zone,
    assigned_at timestamp with time zone NOT NULL,
    removed_at timestamp with time zone,
    assigned_by_id integer,
    removed_by_id integer,
    role_id bigint NOT NULL,
    user_id integer NOT NULL
);


ALTER TABLE public.user_role OWNER TO voxelapp;

--
-- Name: user_role_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.user_role ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.user_role_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: zone_compliance_type; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.zone_compliance_type (
    id bigint NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    deleted_at timestamp with time zone,
    enabled boolean NOT NULL,
    name_override character varying(250),
    compliance_type_id bigint NOT NULL,
    zone_id bigint NOT NULL
);


ALTER TABLE public.zone_compliance_type OWNER TO voxelapp;

--
-- Name: zone_compliance_type_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.zone_compliance_type ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.zone_compliance_type_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: zones; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.zones (
    id bigint NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    deleted_at timestamp with time zone,
    name character varying(250) NOT NULL,
    zone_type character varying(10) NOT NULL,
    organization_id bigint NOT NULL,
    parent_zone_id bigint,
    key character varying(50) NOT NULL,
    timezone character varying(50),
    active boolean NOT NULL
);


ALTER TABLE public.zones OWNER TO voxelapp;

--
-- Name: zones_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.zones ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.zones_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: zones_zoneuser; Type: TABLE; Schema: public; Owner: voxelapp
--

CREATE TABLE public.zones_zoneuser (
    id bigint NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    deleted_at timestamp with time zone,
    user_id integer NOT NULL,
    zone_id bigint NOT NULL,
    is_assignable boolean NOT NULL
);


ALTER TABLE public.zones_zoneuser OWNER TO voxelapp;

--
-- Name: zones_zoneuser_id_seq; Type: SEQUENCE; Schema: public; Owner: voxelapp
--

ALTER TABLE public.zones_zoneuser ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.zones_zoneuser_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: camera_incident_type api_cameraincidenttype_incident_type_id_camera_id_1932bcdf_uniq; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.camera_incident_type
    ADD CONSTRAINT api_cameraincidenttype_incident_type_id_camera_id_1932bcdf_uniq UNIQUE (incident_type_id, camera_id);


--
-- Name: camera_incident_type api_cameraincidenttype_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.camera_incident_type
    ADD CONSTRAINT api_cameraincidenttype_pkey PRIMARY KEY (id);


--
-- Name: api_comment api_comment_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_comment
    ADD CONSTRAINT api_comment_pkey PRIMARY KEY (id);


--
-- Name: api_incident api_incident_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_incident
    ADD CONSTRAINT api_incident_pkey PRIMARY KEY (id);


--
-- Name: api_incident api_incident_uuid_key; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_incident
    ADD CONSTRAINT api_incident_uuid_key UNIQUE (uuid);


--
-- Name: api_incidentfeedback api_incidentfeedback_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_incidentfeedback
    ADD CONSTRAINT api_incidentfeedback_pkey PRIMARY KEY (id);


--
-- Name: api_incidenttype api_incidenttype_key_key; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_incidenttype
    ADD CONSTRAINT api_incidenttype_key_key UNIQUE (key);


--
-- Name: api_incidenttype api_incidenttype_name_key; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_incidenttype
    ADD CONSTRAINT api_incidenttype_name_key UNIQUE (name);


--
-- Name: api_incidenttype api_incidenttype_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_incidenttype
    ADD CONSTRAINT api_incidenttype_pkey PRIMARY KEY (id);


--
-- Name: api_incidenttype api_incidenttype_value_key; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_incidenttype
    ADD CONSTRAINT api_incidenttype_value_key UNIQUE (value);


--
-- Name: api_invitation api_invitation_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_invitation
    ADD CONSTRAINT api_invitation_pkey PRIMARY KEY (id);


--
-- Name: api_invitation_zones api_invitation_zones_invitation_id_zone_id_975324d4_uniq; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_invitation_zones
    ADD CONSTRAINT api_invitation_zones_invitation_id_zone_id_975324d4_uniq UNIQUE (invitation_id, zone_id);


--
-- Name: api_invitation_zones api_invitation_zones_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_invitation_zones
    ADD CONSTRAINT api_invitation_zones_pkey PRIMARY KEY (id);


--
-- Name: api_list_incidents api_list_incidents_list_id_incident_id_e319ac17_uniq; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_list_incidents
    ADD CONSTRAINT api_list_incidents_list_id_incident_id_e319ac17_uniq UNIQUE (list_id, incident_id);


--
-- Name: api_list_incidents api_list_incidents_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_list_incidents
    ADD CONSTRAINT api_list_incidents_pkey PRIMARY KEY (id);


--
-- Name: api_list api_list_owner_id_key; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_list
    ADD CONSTRAINT api_list_owner_id_key UNIQUE (owner_id);


--
-- Name: api_list api_list_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_list
    ADD CONSTRAINT api_list_pkey PRIMARY KEY (id);


--
-- Name: api_notificationlog api_notificationlog_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_notificationlog
    ADD CONSTRAINT api_notificationlog_pkey PRIMARY KEY (id);


--
-- Name: api_organization api_organization_key_key; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_organization
    ADD CONSTRAINT api_organization_key_key UNIQUE (key);


--
-- Name: api_organization api_organization_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_organization
    ADD CONSTRAINT api_organization_pkey PRIMARY KEY (id);


--
-- Name: api_organization_users api_organization_users_organization_id_user_id_0c2fe35f_uniq; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_organization_users
    ADD CONSTRAINT api_organization_users_organization_id_user_id_0c2fe35f_uniq UNIQUE (organization_id, user_id);


--
-- Name: api_organization_users api_organization_users_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_organization_users
    ADD CONSTRAINT api_organization_users_pkey PRIMARY KEY (id);


--
-- Name: api_organizationincidenttype api_organizationincident_incident_type_id_organiz_91b27fde_uniq; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_organizationincidenttype
    ADD CONSTRAINT api_organizationincident_incident_type_id_organiz_91b27fde_uniq UNIQUE (incident_type_id, organization_id);


--
-- Name: api_organizationincidenttype api_organizationincidenttype_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_organizationincidenttype
    ADD CONSTRAINT api_organizationincidenttype_pkey PRIMARY KEY (id);


--
-- Name: api_profile api_profile_owner_id_key; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_profile
    ADD CONSTRAINT api_profile_owner_id_key UNIQUE (owner_id);


--
-- Name: api_profile api_profile_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_profile
    ADD CONSTRAINT api_profile_pkey PRIMARY KEY (id);


--
-- Name: api_sharelink api_sharelink_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_sharelink
    ADD CONSTRAINT api_sharelink_pkey PRIMARY KEY (id);


--
-- Name: api_userincident api_userincident_incident_id_assignee_id_1ab74acf_uniq; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_userincident
    ADD CONSTRAINT api_userincident_incident_id_assignee_id_1ab74acf_uniq UNIQUE (incident_id, assignee_id);


--
-- Name: api_userincident api_userincident_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_userincident
    ADD CONSTRAINT api_userincident_pkey PRIMARY KEY (id);


--
-- Name: auth_group auth_group_name_key; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.auth_group
    ADD CONSTRAINT auth_group_name_key UNIQUE (name);


--
-- Name: auth_group_permissions auth_group_permissions_group_id_permission_id_0cd325b0_uniq; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.auth_group_permissions
    ADD CONSTRAINT auth_group_permissions_group_id_permission_id_0cd325b0_uniq UNIQUE (group_id, permission_id);


--
-- Name: auth_group_permissions auth_group_permissions_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.auth_group_permissions
    ADD CONSTRAINT auth_group_permissions_pkey PRIMARY KEY (id);


--
-- Name: auth_group auth_group_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.auth_group
    ADD CONSTRAINT auth_group_pkey PRIMARY KEY (id);


--
-- Name: auth_permission auth_permission_content_type_id_codename_01ab375a_uniq; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.auth_permission
    ADD CONSTRAINT auth_permission_content_type_id_codename_01ab375a_uniq UNIQUE (content_type_id, codename);


--
-- Name: auth_permission auth_permission_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.auth_permission
    ADD CONSTRAINT auth_permission_pkey PRIMARY KEY (id);


--
-- Name: auth_user_groups auth_user_groups_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.auth_user_groups
    ADD CONSTRAINT auth_user_groups_pkey PRIMARY KEY (id);


--
-- Name: auth_user_groups auth_user_groups_user_id_group_id_94350c0c_uniq; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.auth_user_groups
    ADD CONSTRAINT auth_user_groups_user_id_group_id_94350c0c_uniq UNIQUE (user_id, group_id);


--
-- Name: auth_user auth_user_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.auth_user
    ADD CONSTRAINT auth_user_pkey PRIMARY KEY (id);


--
-- Name: auth_user_user_permissions auth_user_user_permissions_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.auth_user_user_permissions
    ADD CONSTRAINT auth_user_user_permissions_pkey PRIMARY KEY (id);


--
-- Name: auth_user_user_permissions auth_user_user_permissions_user_id_permission_id_14a6b632_uniq; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.auth_user_user_permissions
    ADD CONSTRAINT auth_user_user_permissions_user_id_permission_id_14a6b632_uniq UNIQUE (user_id, permission_id);


--
-- Name: auth_user auth_user_username_key; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.auth_user
    ADD CONSTRAINT auth_user_username_key UNIQUE (username);


--
-- Name: authtoken_token authtoken_token_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.authtoken_token
    ADD CONSTRAINT authtoken_token_pkey PRIMARY KEY (key);


--
-- Name: authtoken_token authtoken_token_user_id_key; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.authtoken_token
    ADD CONSTRAINT authtoken_token_user_id_key UNIQUE (user_id);


--
-- Name: camera_lifecycle camera_lifecycle_key_key; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.camera_lifecycle
    ADD CONSTRAINT camera_lifecycle_key_key UNIQUE (key);


--
-- Name: camera_lifecycle camera_lifecycle_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.camera_lifecycle
    ADD CONSTRAINT camera_lifecycle_pkey PRIMARY KEY (id);


--
-- Name: cameraconfignew cameraconfignew_camera_id_version_231b0145_uniq; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.cameraconfignew
    ADD CONSTRAINT cameraconfignew_camera_id_version_231b0145_uniq UNIQUE (camera_id, version);


--
-- Name: cameraconfignew cameraconfignew_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.cameraconfignew
    ADD CONSTRAINT cameraconfignew_pkey PRIMARY KEY (id);


--
-- Name: camera cameras_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.camera
    ADD CONSTRAINT cameras_pkey PRIMARY KEY (id);


--
-- Name: camera cameras_uuid_6b6f17d1_uniq; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.camera
    ADD CONSTRAINT cameras_uuid_6b6f17d1_uniq UNIQUE (uuid);


--
-- Name: compliance_type compliance_type_key_ab5c2118_uniq; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.compliance_type
    ADD CONSTRAINT compliance_type_key_ab5c2118_uniq UNIQUE (key);


--
-- Name: compliance_type compliance_type_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.compliance_type
    ADD CONSTRAINT compliance_type_pkey PRIMARY KEY (id);


--
-- Name: django_admin_log django_admin_log_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.django_admin_log
    ADD CONSTRAINT django_admin_log_pkey PRIMARY KEY (id);


--
-- Name: django_content_type django_content_type_app_label_model_76bd3d3b_uniq; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.django_content_type
    ADD CONSTRAINT django_content_type_app_label_model_76bd3d3b_uniq UNIQUE (app_label, model);


--
-- Name: django_content_type django_content_type_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.django_content_type
    ADD CONSTRAINT django_content_type_pkey PRIMARY KEY (id);


--
-- Name: django_migrations django_migrations_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.django_migrations
    ADD CONSTRAINT django_migrations_pkey PRIMARY KEY (id);


--
-- Name: django_plotly_dash_dashapp django_plotly_dash_dashapp_instance_name_key; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.django_plotly_dash_dashapp
    ADD CONSTRAINT django_plotly_dash_dashapp_instance_name_key UNIQUE (instance_name);


--
-- Name: django_plotly_dash_dashapp django_plotly_dash_dashapp_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.django_plotly_dash_dashapp
    ADD CONSTRAINT django_plotly_dash_dashapp_pkey PRIMARY KEY (id);


--
-- Name: django_plotly_dash_dashapp django_plotly_dash_dashapp_slug_key; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.django_plotly_dash_dashapp
    ADD CONSTRAINT django_plotly_dash_dashapp_slug_key UNIQUE (slug);


--
-- Name: django_plotly_dash_statelessapp django_plotly_dash_statelessapp_app_name_key; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.django_plotly_dash_statelessapp
    ADD CONSTRAINT django_plotly_dash_statelessapp_app_name_key UNIQUE (app_name);


--
-- Name: django_plotly_dash_statelessapp django_plotly_dash_statelessapp_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.django_plotly_dash_statelessapp
    ADD CONSTRAINT django_plotly_dash_statelessapp_pkey PRIMARY KEY (id);


--
-- Name: django_plotly_dash_statelessapp django_plotly_dash_statelessapp_slug_key; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.django_plotly_dash_statelessapp
    ADD CONSTRAINT django_plotly_dash_statelessapp_slug_key UNIQUE (slug);


--
-- Name: django_session django_session_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.django_session
    ADD CONSTRAINT django_session_pkey PRIMARY KEY (session_key);


--
-- Name: django_site django_site_domain_a2e37b91_uniq; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.django_site
    ADD CONSTRAINT django_site_domain_a2e37b91_uniq UNIQUE (domain);


--
-- Name: django_site django_site_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.django_site
    ADD CONSTRAINT django_site_pkey PRIMARY KEY (id);


--
-- Name: door_event_aggregates door_event_aggregates_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.door_event_aggregates
    ADD CONSTRAINT door_event_aggregates_pkey PRIMARY KEY (id);


--
-- Name: door_open_aggregates door_open_aggregates_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.door_open_aggregates
    ADD CONSTRAINT door_open_aggregates_pkey PRIMARY KEY (id);


--
-- Name: door_open_aggregates door_open_aggregates_unique_row_per_group_by_option; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.door_open_aggregates
    ADD CONSTRAINT door_open_aggregates_unique_row_per_group_by_option UNIQUE (group_key, group_by, organization_id, zone_id, camera_id);


--
-- Name: edge_lifecycle edge_lifecycle_key_key; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.edge_lifecycle
    ADD CONSTRAINT edge_lifecycle_key_key UNIQUE (key);


--
-- Name: edge_lifecycle edge_lifecycle_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.edge_lifecycle
    ADD CONSTRAINT edge_lifecycle_pkey PRIMARY KEY (id);


--
-- Name: edge edge_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.edge
    ADD CONSTRAINT edge_pkey PRIMARY KEY (id);


--
-- Name: edge edge_uuid_key; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.edge
    ADD CONSTRAINT edge_uuid_key UNIQUE (uuid);


--
-- Name: ergonomics_aggregates ergonomics_aggregate_unique_row_per_camera_per_group_by_option; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.ergonomics_aggregates
    ADD CONSTRAINT ergonomics_aggregate_unique_row_per_camera_per_group_by_option UNIQUE (group_key, group_by, organization_id, zone_id, camera_id);


--
-- Name: production_line_aggregate ergonomics_aggregate_unique_row_per_production_line_per_group_b; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.production_line_aggregate
    ADD CONSTRAINT ergonomics_aggregate_unique_row_per_production_line_per_group_b UNIQUE (group_key, group_by, organization_id, zone_id, camera_id, production_line_id);


--
-- Name: ergonomics_aggregates ergonomics_aggregates_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.ergonomics_aggregates
    ADD CONSTRAINT ergonomics_aggregates_pkey PRIMARY KEY (id);


--
-- Name: motion_zone motion_zone_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.motion_zone
    ADD CONSTRAINT motion_zone_pkey PRIMARY KEY (id);


--
-- Name: motion_zone motion_zone_uuid_key; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.motion_zone
    ADD CONSTRAINT motion_zone_uuid_key UNIQUE (uuid);


--
-- Name: partial_incident partial_incident_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.partial_incident
    ADD CONSTRAINT partial_incident_pkey PRIMARY KEY (id);


--
-- Name: partial_incident partial_incident_uuid_key; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.partial_incident
    ADD CONSTRAINT partial_incident_uuid_key UNIQUE (uuid);


--
-- Name: perceived_actor_state_duration_aggregate perceived_actor_state_duration_aggregate_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.perceived_actor_state_duration_aggregate
    ADD CONSTRAINT perceived_actor_state_duration_aggregate_pkey PRIMARY KEY (id);


--
-- Name: perceived_actor_state_duration_aggregate perceived_actor_state_duration_aggregate_unique_constraint; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.perceived_actor_state_duration_aggregate
    ADD CONSTRAINT perceived_actor_state_duration_aggregate_unique_constraint UNIQUE (time_bucket_start_timestamp, time_bucket_width, category, camera_uuid);


--
-- Name: perceived_event_rate_definition perceived_event_rate_definition_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.perceived_event_rate_definition
    ADD CONSTRAINT perceived_event_rate_definition_pkey PRIMARY KEY (id);


--
-- Name: perceived_event_rate_definition perceived_event_rate_definition_unique_constraint; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.perceived_event_rate_definition
    ADD CONSTRAINT perceived_event_rate_definition_unique_constraint UNIQUE (incident_type_id, calculation_method, perceived_actor_state_duration_category);


--
-- Name: perceived_event_rate_hourly perceived_event_rate_hourly_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.perceived_event_rate_hourly
    ADD CONSTRAINT perceived_event_rate_hourly_pkey PRIMARY KEY (id);


--
-- Name: perceived_event_rate_hourly perceived_event_rate_hourly_unique_constraint; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.perceived_event_rate_hourly
    ADD CONSTRAINT perceived_event_rate_hourly_unique_constraint UNIQUE (time_bucket_start_timestamp, definition_id, camera_id);


--
-- Name: ppe_aggregates ppe_aggregates_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.ppe_aggregates
    ADD CONSTRAINT ppe_aggregates_pkey PRIMARY KEY (id);


--
-- Name: ppe_aggregates ppe_event_aggregate_unique_constraint; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.ppe_aggregates
    ADD CONSTRAINT ppe_event_aggregate_unique_constraint UNIQUE (group_key, group_by, organization_id, zone_id, camera_id);


--
-- Name: production_line_aggregate production_line_aggregate_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.production_line_aggregate
    ADD CONSTRAINT production_line_aggregate_pkey PRIMARY KEY (id);


--
-- Name: production_line production_line_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.production_line
    ADD CONSTRAINT production_line_pkey PRIMARY KEY (id);


--
-- Name: production_line production_line_uuid_key; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.production_line
    ADD CONSTRAINT production_line_uuid_key UNIQUE (uuid);


--
-- Name: role role_key_key; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.role
    ADD CONSTRAINT role_key_key UNIQUE (key);


--
-- Name: role_permission role_permission_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.role_permission
    ADD CONSTRAINT role_permission_pkey PRIMARY KEY (id);


--
-- Name: role role_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.role
    ADD CONSTRAINT role_pkey PRIMARY KEY (id);


--
-- Name: site_incident_type site_incident_type_incident_type_id_site_id_fa1ac6e5_uniq; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.site_incident_type
    ADD CONSTRAINT site_incident_type_incident_type_id_site_id_fa1ac6e5_uniq UNIQUE (incident_type_id, site_id);


--
-- Name: site_incident_type site_incident_type_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.site_incident_type
    ADD CONSTRAINT site_incident_type_pkey PRIMARY KEY (id);


--
-- Name: zones unique_key_per_org_and_parent; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.zones
    ADD CONSTRAINT unique_key_per_org_and_parent UNIQUE (organization_id, parent_zone_id, key);


--
-- Name: door_event_aggregates unique_row_per_camera_per_group_by_option; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.door_event_aggregates
    ADD CONSTRAINT unique_row_per_camera_per_group_by_option UNIQUE (group_key, group_by, organization_id, zone_id, camera_id);


--
-- Name: user_role user_role_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.user_role
    ADD CONSTRAINT user_role_pkey PRIMARY KEY (id);


--
-- Name: zone_compliance_type zone_compliance_type_compliance_type_id_zone_id_5b8ed71d_uniq; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.zone_compliance_type
    ADD CONSTRAINT zone_compliance_type_compliance_type_id_zone_id_5b8ed71d_uniq UNIQUE (compliance_type_id, zone_id);


--
-- Name: zone_compliance_type zone_compliance_type_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.zone_compliance_type
    ADD CONSTRAINT zone_compliance_type_pkey PRIMARY KEY (id);


--
-- Name: zones zones_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.zones
    ADD CONSTRAINT zones_pkey PRIMARY KEY (id);


--
-- Name: zones_zoneuser zones_zoneuser_pkey; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.zones_zoneuser
    ADD CONSTRAINT zones_zoneuser_pkey PRIMARY KEY (id);


--
-- Name: zones_zoneuser zones_zoneuser_zone_id_user_id_9a576deb_uniq; Type: CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.zones_zoneuser
    ADD CONSTRAINT zones_zoneuser_zone_id_user_id_9a576deb_uniq UNIQUE (zone_id, user_id);


--
-- Name: api_cameraincidenttype_camera_id_df96df89; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX api_cameraincidenttype_camera_id_df96df89 ON public.camera_incident_type USING btree (camera_id);


--
-- Name: api_cameraincidenttype_incident_type_id_f1b3df81; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX api_cameraincidenttype_incident_type_id_f1b3df81 ON public.camera_incident_type USING btree (incident_type_id);


--
-- Name: api_comment_incident_id_ea553ce5; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX api_comment_incident_id_ea553ce5 ON public.api_comment USING btree (incident_id);


--
-- Name: api_comment_owner_id_2ff90561; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX api_comment_owner_id_2ff90561 ON public.api_comment USING btree (owner_id);


--
-- Name: api_inciden_timesta_ba87a6_idx; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX api_inciden_timesta_ba87a6_idx ON public.api_incident USING btree ("timestamp" DESC);


--
-- Name: api_incident_camera_id_ddb78f44; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX api_incident_camera_id_ddb78f44 ON public.api_incident USING btree (camera_id);


--
-- Name: api_incident_new_incident_type_id_10a5d555; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX api_incident_new_incident_type_id_10a5d555 ON public.api_incident USING btree (incident_type_id);


--
-- Name: api_incident_organization_id_6b0ae5e6; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX api_incident_organization_id_6b0ae5e6 ON public.api_incident USING btree (organization_id);


--
-- Name: api_incident_zone_id_e84b6d99; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX api_incident_zone_id_e84b6d99 ON public.api_incident USING btree (zone_id);


--
-- Name: api_incidentfeedback_incident_id_53b0f8bd; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX api_incidentfeedback_incident_id_53b0f8bd ON public.api_incidentfeedback USING btree (incident_id);


--
-- Name: api_incidentfeedback_user_id_3d7ffaa7; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX api_incidentfeedback_user_id_3d7ffaa7 ON public.api_incidentfeedback USING btree (user_id);


--
-- Name: api_incidenttype_key_d0b1ecab_like; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX api_incidenttype_key_d0b1ecab_like ON public.api_incidenttype USING btree (key varchar_pattern_ops);


--
-- Name: api_incidenttype_name_8c18305b_like; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX api_incidenttype_name_8c18305b_like ON public.api_incidenttype USING btree (name varchar_pattern_ops);


--
-- Name: api_incidenttype_value_34d38339_like; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX api_incidenttype_value_34d38339_like ON public.api_incidenttype USING btree (value varchar_pattern_ops);


--
-- Name: api_invitation_invited_by_id_5c3b7c72; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX api_invitation_invited_by_id_5c3b7c72 ON public.api_invitation USING btree (invited_by_id);


--
-- Name: api_invitation_invitee_id_5a763a43; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX api_invitation_invitee_id_5a763a43 ON public.api_invitation USING btree (invitee_id);


--
-- Name: api_invitation_organization_id_a1ccdc95; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX api_invitation_organization_id_a1ccdc95 ON public.api_invitation USING btree (organization_id);


--
-- Name: api_invitation_role_id_1f8764ad; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX api_invitation_role_id_1f8764ad ON public.api_invitation USING btree (role_id);


--
-- Name: api_invitation_zones_invitation_id_d9058d84; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX api_invitation_zones_invitation_id_d9058d84 ON public.api_invitation_zones USING btree (invitation_id);


--
-- Name: api_invitation_zones_zone_id_d34b38ff; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX api_invitation_zones_zone_id_d34b38ff ON public.api_invitation_zones USING btree (zone_id);


--
-- Name: api_list_incidents_incident_id_27742a4b; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX api_list_incidents_incident_id_27742a4b ON public.api_list_incidents USING btree (incident_id);


--
-- Name: api_list_incidents_list_id_735e8839; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX api_list_incidents_list_id_735e8839 ON public.api_list_incidents USING btree (list_id);


--
-- Name: api_notificationlog_incident_id_3766cc43; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX api_notificationlog_incident_id_3766cc43 ON public.api_notificationlog USING btree (incident_id);


--
-- Name: api_notificationlog_user_id_e7158509; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX api_notificationlog_user_id_e7158509 ON public.api_notificationlog USING btree (user_id);


--
-- Name: api_organization_key_3cd7f618_like; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX api_organization_key_3cd7f618_like ON public.api_organization USING btree (key varchar_pattern_ops);


--
-- Name: api_organization_users_organization_id_a538c02c; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX api_organization_users_organization_id_a538c02c ON public.api_organization_users USING btree (organization_id);


--
-- Name: api_organization_users_user_id_d85b1b69; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX api_organization_users_user_id_d85b1b69 ON public.api_organization_users USING btree (user_id);


--
-- Name: api_organizationincidenttype_incident_type_id_feb3f07a; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX api_organizationincidenttype_incident_type_id_feb3f07a ON public.api_organizationincidenttype USING btree (incident_type_id);


--
-- Name: api_organizationincidenttype_organization_id_3379cd0d; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX api_organizationincidenttype_organization_id_3379cd0d ON public.api_organizationincidenttype USING btree (organization_id);


--
-- Name: api_profile_organization_id_410907d7; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX api_profile_organization_id_410907d7 ON public.api_profile USING btree (organization_id);


--
-- Name: api_profile_site_id_e9a6c383; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX api_profile_site_id_e9a6c383 ON public.api_profile USING btree (site_id);


--
-- Name: api_sharelink_incident_id_b4950b2b; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX api_sharelink_incident_id_b4950b2b ON public.api_sharelink USING btree (incident_id);


--
-- Name: api_sharelink_shared_by_id_c9390002; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX api_sharelink_shared_by_id_c9390002 ON public.api_sharelink USING btree (shared_by_id);


--
-- Name: api_userincident_assigned_by_id_11ff5513; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX api_userincident_assigned_by_id_11ff5513 ON public.api_userincident USING btree (assigned_by_id);


--
-- Name: api_userincident_assignee_id_f9fa864c; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX api_userincident_assignee_id_f9fa864c ON public.api_userincident USING btree (assignee_id);


--
-- Name: api_userincident_incident_id_4bb6e091; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX api_userincident_incident_id_4bb6e091 ON public.api_userincident USING btree (incident_id);


--
-- Name: api_userincident_organization_id_a9ba5ef7; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX api_userincident_organization_id_a9ba5ef7 ON public.api_userincident USING btree (organization_id);


--
-- Name: auth_group_name_a6ea08ec_like; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX auth_group_name_a6ea08ec_like ON public.auth_group USING btree (name varchar_pattern_ops);


--
-- Name: auth_group_permissions_group_id_b120cbf9; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX auth_group_permissions_group_id_b120cbf9 ON public.auth_group_permissions USING btree (group_id);


--
-- Name: auth_group_permissions_permission_id_84c5c92e; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX auth_group_permissions_permission_id_84c5c92e ON public.auth_group_permissions USING btree (permission_id);


--
-- Name: auth_permission_content_type_id_2f476e4b; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX auth_permission_content_type_id_2f476e4b ON public.auth_permission USING btree (content_type_id);


--
-- Name: auth_user_groups_group_id_97559544; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX auth_user_groups_group_id_97559544 ON public.auth_user_groups USING btree (group_id);


--
-- Name: auth_user_groups_user_id_6a12ed8b; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX auth_user_groups_user_id_6a12ed8b ON public.auth_user_groups USING btree (user_id);


--
-- Name: auth_user_user_permissions_permission_id_1fbb5f2c; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX auth_user_user_permissions_permission_id_1fbb5f2c ON public.auth_user_user_permissions USING btree (permission_id);


--
-- Name: auth_user_user_permissions_user_id_a95ead1b; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX auth_user_user_permissions_user_id_a95ead1b ON public.auth_user_user_permissions USING btree (user_id);


--
-- Name: auth_user_username_6821ab7c_like; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX auth_user_username_6821ab7c_like ON public.auth_user USING btree (username varchar_pattern_ops);


--
-- Name: authtoken_token_key_10f0b77e_like; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX authtoken_token_key_10f0b77e_like ON public.authtoken_token USING btree (key varchar_pattern_ops);


--
-- Name: camera_edge_id_21ed6ee2; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX camera_edge_id_21ed6ee2 ON public.camera USING btree (edge_id);


--
-- Name: camera_lifecycle_7c211357; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX camera_lifecycle_7c211357 ON public.camera USING btree (lifecycle);


--
-- Name: camera_lifecycle_7c211357_like; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX camera_lifecycle_7c211357_like ON public.camera USING btree (lifecycle varchar_pattern_ops);


--
-- Name: camera_lifecycle_key_5d819764_like; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX camera_lifecycle_key_5d819764_like ON public.camera_lifecycle USING btree (key varchar_pattern_ops);


--
-- Name: camera_organiz_6af57f_idx; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX camera_organiz_6af57f_idx ON public.camera USING btree (organization_id);


--
-- Name: camera_zone_id_b8610a_idx; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX camera_zone_id_b8610a_idx ON public.camera USING btree (zone_id);


--
-- Name: camera_zone_id_d365139a; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX camera_zone_id_d365139a ON public.camera USING btree (zone_id);


--
-- Name: cameraconfignew_camera_id_cad68d12; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX cameraconfignew_camera_id_cad68d12 ON public.cameraconfignew USING btree (camera_id);


--
-- Name: cameras_organization_id_8f6e273a; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX cameras_organization_id_8f6e273a ON public.camera USING btree (organization_id);


--
-- Name: cameras_uuid_6b6f17d1_like; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX cameras_uuid_6b6f17d1_like ON public.camera USING btree (uuid varchar_pattern_ops);


--
-- Name: compliance_type_key_ab5c2118_like; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX compliance_type_key_ab5c2118_like ON public.compliance_type USING btree (key varchar_pattern_ops);


--
-- Name: django_admin_log_content_type_id_c4bce8eb; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX django_admin_log_content_type_id_c4bce8eb ON public.django_admin_log USING btree (content_type_id);


--
-- Name: django_admin_log_user_id_c564eba6; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX django_admin_log_user_id_c564eba6 ON public.django_admin_log USING btree (user_id);


--
-- Name: django_plotly_dash_dashapp_instance_name_b5da5a90_like; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX django_plotly_dash_dashapp_instance_name_b5da5a90_like ON public.django_plotly_dash_dashapp USING btree (instance_name varchar_pattern_ops);


--
-- Name: django_plotly_dash_dashapp_slug_78afbcd4_like; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX django_plotly_dash_dashapp_slug_78afbcd4_like ON public.django_plotly_dash_dashapp USING btree (slug varchar_pattern_ops);


--
-- Name: django_plotly_dash_dashapp_stateless_app_id_220444de; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX django_plotly_dash_dashapp_stateless_app_id_220444de ON public.django_plotly_dash_dashapp USING btree (stateless_app_id);


--
-- Name: django_plotly_dash_statelessapp_app_name_701b74bd_like; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX django_plotly_dash_statelessapp_app_name_701b74bd_like ON public.django_plotly_dash_statelessapp USING btree (app_name varchar_pattern_ops);


--
-- Name: django_plotly_dash_statelessapp_slug_645fc52c_like; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX django_plotly_dash_statelessapp_slug_645fc52c_like ON public.django_plotly_dash_statelessapp USING btree (slug varchar_pattern_ops);


--
-- Name: django_session_expire_date_a5c62663; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX django_session_expire_date_a5c62663 ON public.django_session USING btree (expire_date);


--
-- Name: django_session_session_key_c0390e0f_like; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX django_session_session_key_c0390e0f_like ON public.django_session USING btree (session_key varchar_pattern_ops);


--
-- Name: django_site_domain_a2e37b91_like; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX django_site_domain_a2e37b91_like ON public.django_site USING btree (domain varchar_pattern_ops);


--
-- Name: door_event__group_k_272b28_idx; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX door_event__group_k_272b28_idx ON public.door_event_aggregates USING btree (group_key DESC, group_by, organization_id, zone_id);


--
-- Name: door_event_aggregates_camera_id_921d2781; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX door_event_aggregates_camera_id_921d2781 ON public.door_event_aggregates USING btree (camera_id);


--
-- Name: door_event_aggregates_organization_id_27f8e792; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX door_event_aggregates_organization_id_27f8e792 ON public.door_event_aggregates USING btree (organization_id);


--
-- Name: door_event_aggregates_zone_id_88465020; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX door_event_aggregates_zone_id_88465020 ON public.door_event_aggregates USING btree (zone_id);


--
-- Name: door_open_a_group_k_326020_idx; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX door_open_a_group_k_326020_idx ON public.door_open_aggregates USING btree (group_key DESC, group_by, organization_id, zone_id);


--
-- Name: door_open_a_group_k_69447f_idx; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX door_open_a_group_k_69447f_idx ON public.door_open_aggregates USING btree (group_key DESC, group_by);


--
-- Name: door_open_aggregates_camera_id_55c5fcc3; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX door_open_aggregates_camera_id_55c5fcc3 ON public.door_open_aggregates USING btree (camera_id);


--
-- Name: door_open_aggregates_organization_id_b78d8d35; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX door_open_aggregates_organization_id_b78d8d35 ON public.door_open_aggregates USING btree (organization_id);


--
-- Name: door_open_aggregates_zone_id_9000f66f; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX door_open_aggregates_zone_id_9000f66f ON public.door_open_aggregates USING btree (zone_id);


--
-- Name: edge_lifecycle_81ea466b; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX edge_lifecycle_81ea466b ON public.edge USING btree (lifecycle);


--
-- Name: edge_lifecycle_81ea466b_like; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX edge_lifecycle_81ea466b_like ON public.edge USING btree (lifecycle varchar_pattern_ops);


--
-- Name: edge_lifecycle_key_3400bbeb_like; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX edge_lifecycle_key_3400bbeb_like ON public.edge_lifecycle USING btree (key varchar_pattern_ops);


--
-- Name: edge_organiz_c9ab5b_idx; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX edge_organiz_c9ab5b_idx ON public.edge USING btree (organization_id);


--
-- Name: edge_organization_id_4a2f88eb; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX edge_organization_id_4a2f88eb ON public.edge USING btree (organization_id);


--
-- Name: ergonomics__group_k_2aa3a9_idx; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX ergonomics__group_k_2aa3a9_idx ON public.ergonomics_aggregates USING btree (group_key DESC, group_by, organization_id, zone_id);


--
-- Name: ergonomics_aggregates_camera_id_88c8eefb; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX ergonomics_aggregates_camera_id_88c8eefb ON public.ergonomics_aggregates USING btree (camera_id);


--
-- Name: ergonomics_aggregates_organization_id_737ca76c; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX ergonomics_aggregates_organization_id_737ca76c ON public.ergonomics_aggregates USING btree (organization_id);


--
-- Name: ergonomics_aggregates_zone_id_9246a804; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX ergonomics_aggregates_zone_id_9246a804 ON public.ergonomics_aggregates USING btree (zone_id);


--
-- Name: last_feedback_submis_nonnull_idx; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX last_feedback_submis_nonnull_idx ON public.api_incident USING btree (last_feedback_submission_timestamp DESC) WHERE (last_feedback_submission_timestamp IS NOT NULL);


--
-- Name: motion_zone_camera_id_5b4f4c3f; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX motion_zone_camera_id_5b4f4c3f ON public.motion_zone USING btree (camera_id);


--
-- Name: motion_zone_organization_id_ce367d90; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX motion_zone_organization_id_ce367d90 ON public.motion_zone USING btree (organization_id);


--
-- Name: motion_zone_uuid_406ce4cd_like; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX motion_zone_uuid_406ce4cd_like ON public.motion_zone USING btree (uuid varchar_pattern_ops);


--
-- Name: motion_zone_zone_id_d18d9fe9; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX motion_zone_zone_id_d18d9fe9 ON public.motion_zone USING btree (zone_id);


--
-- Name: partial_inc_timesta_d10d6b_btree; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX partial_inc_timesta_d10d6b_btree ON public.partial_incident USING btree ("timestamp" DESC);


--
-- Name: partial_incident_camera_id_c6ce6ec3; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX partial_incident_camera_id_c6ce6ec3 ON public.partial_incident USING btree (camera_id);


--
-- Name: partial_incident_incident_type_id_29bc277c; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX partial_incident_incident_type_id_29bc277c ON public.partial_incident USING btree (incident_type_id);


--
-- Name: partial_incident_organization_id_19ca7ce0; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX partial_incident_organization_id_19ca7ce0 ON public.partial_incident USING btree (organization_id);


--
-- Name: partial_incident_zone_id_77785ca5; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX partial_incident_zone_id_77785ca5 ON public.partial_incident USING btree (zone_id);


--
-- Name: perceived_event_rate_definition_incident_type_id_21f13fef; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX perceived_event_rate_definition_incident_type_id_21f13fef ON public.perceived_event_rate_definition USING btree (incident_type_id);


--
-- Name: perceived_event_rate_hourly_camera_id_79413b38; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX perceived_event_rate_hourly_camera_id_79413b38 ON public.perceived_event_rate_hourly USING btree (camera_id);


--
-- Name: perceived_event_rate_hourly_definition_id_3562869d; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX perceived_event_rate_hourly_definition_id_3562869d ON public.perceived_event_rate_hourly USING btree (definition_id);


--
-- Name: ppe_aggrega_group_k_01fe02_idx; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX ppe_aggrega_group_k_01fe02_idx ON public.ppe_aggregates USING btree (group_key DESC, group_by, organization_id, zone_id);


--
-- Name: ppe_aggregates_camera_id_08ba3090; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX ppe_aggregates_camera_id_08ba3090 ON public.ppe_aggregates USING btree (camera_id);


--
-- Name: ppe_aggregates_organization_id_4b51287f; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX ppe_aggregates_organization_id_4b51287f ON public.ppe_aggregates USING btree (organization_id);


--
-- Name: ppe_aggregates_zone_id_7adad3b9; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX ppe_aggregates_zone_id_7adad3b9 ON public.ppe_aggregates USING btree (zone_id);


--
-- Name: production__group_k_753af0_idx; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX production__group_k_753af0_idx ON public.production_line_aggregate USING btree (group_key DESC, group_by, organization_id, zone_id);


--
-- Name: production__group_k_d952d7_idx; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX production__group_k_d952d7_idx ON public.production_line_aggregate USING btree (group_key DESC, group_by, production_line_id);


--
-- Name: production_line_aggregate_camera_id_e537cd0b; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX production_line_aggregate_camera_id_e537cd0b ON public.production_line_aggregate USING btree (camera_id);


--
-- Name: production_line_aggregate_organization_id_2cdf523a; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX production_line_aggregate_organization_id_2cdf523a ON public.production_line_aggregate USING btree (organization_id);


--
-- Name: production_line_aggregate_production_line_id_8f6ad766; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX production_line_aggregate_production_line_id_8f6ad766 ON public.production_line_aggregate USING btree (production_line_id);


--
-- Name: production_line_aggregate_zone_id_95162c7a; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX production_line_aggregate_zone_id_95162c7a ON public.production_line_aggregate USING btree (zone_id);


--
-- Name: production_line_camera_id_60c50a69; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX production_line_camera_id_60c50a69 ON public.production_line USING btree (camera_id);


--
-- Name: production_line_organization_id_3f915509; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX production_line_organization_id_3f915509 ON public.production_line USING btree (organization_id);


--
-- Name: production_line_uuid_1e946bb9_like; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX production_line_uuid_1e946bb9_like ON public.production_line USING btree (uuid varchar_pattern_ops);


--
-- Name: production_line_zone_id_d3f442c1; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX production_line_zone_id_d3f442c1 ON public.production_line USING btree (zone_id);


--
-- Name: role_key_309bec13_like; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX role_key_309bec13_like ON public.role USING btree (key varchar_pattern_ops);


--
-- Name: role_organization_id_d00f912a; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX role_organization_id_d00f912a ON public.role USING btree (organization_id);


--
-- Name: role_permission_assigned_by_id_d7a6a23d; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX role_permission_assigned_by_id_d7a6a23d ON public.role_permission USING btree (assigned_by_id);


--
-- Name: role_permission_removed_by_id_dce55ff0; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX role_permission_removed_by_id_dce55ff0 ON public.role_permission USING btree (removed_by_id);


--
-- Name: role_permission_role_id_877a80a4; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX role_permission_role_id_877a80a4 ON public.role_permission USING btree (role_id);


--
-- Name: role_zone_id_dea2f53a; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX role_zone_id_dea2f53a ON public.role USING btree (zone_id);


--
-- Name: site_incident_type_incident_type_id_4b39c64e; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX site_incident_type_incident_type_id_4b39c64e ON public.site_incident_type USING btree (incident_type_id);


--
-- Name: site_incident_type_site_id_e1779d65; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX site_incident_type_site_id_e1779d65 ON public.site_incident_type USING btree (site_id);


--
-- Name: user_role_assigned_by_id_35a6b317; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX user_role_assigned_by_id_35a6b317 ON public.user_role USING btree (assigned_by_id);


--
-- Name: user_role_removed_by_id_2958c0d8; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX user_role_removed_by_id_2958c0d8 ON public.user_role USING btree (removed_by_id);


--
-- Name: user_role_role_id_6a11361a; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX user_role_role_id_6a11361a ON public.user_role USING btree (role_id);


--
-- Name: user_role_user_id_12d84374; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX user_role_user_id_12d84374 ON public.user_role USING btree (user_id);


--
-- Name: zone_compliance_type_compliance_type_id_71f9174f; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX zone_compliance_type_compliance_type_id_71f9174f ON public.zone_compliance_type USING btree (compliance_type_id);


--
-- Name: zone_compliance_type_zone_id_36e465f2; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX zone_compliance_type_zone_id_36e465f2 ON public.zone_compliance_type USING btree (zone_id);


--
-- Name: zones_organization_id_834e7b3e; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX zones_organization_id_834e7b3e ON public.zones USING btree (organization_id);


--
-- Name: zones_parent_zone_id_8de173dd; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX zones_parent_zone_id_8de173dd ON public.zones USING btree (parent_zone_id);


--
-- Name: zones_zoneuser_user_id_51873474; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX zones_zoneuser_user_id_51873474 ON public.zones_zoneuser USING btree (user_id);


--
-- Name: zones_zoneuser_zone_id_e4e811a9; Type: INDEX; Schema: public; Owner: voxelapp
--

CREATE INDEX zones_zoneuser_zone_id_e4e811a9 ON public.zones_zoneuser USING btree (zone_id);


--
-- Name: camera_incident_type api_cameraincidentty_incident_type_id_f1b3df81_fk_api_incid; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.camera_incident_type
    ADD CONSTRAINT api_cameraincidentty_incident_type_id_f1b3df81_fk_api_incid FOREIGN KEY (incident_type_id) REFERENCES public.api_incidenttype(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: camera_incident_type api_cameraincidenttype_camera_id_df96df89_fk_camera_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.camera_incident_type
    ADD CONSTRAINT api_cameraincidenttype_camera_id_df96df89_fk_camera_id FOREIGN KEY (camera_id) REFERENCES public.camera(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: api_comment api_comment_incident_id_ea553ce5_fk; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_comment
    ADD CONSTRAINT api_comment_incident_id_ea553ce5_fk FOREIGN KEY (incident_id) REFERENCES public.api_incident(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: api_comment api_comment_owner_id_2ff90561_fk_auth_user_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_comment
    ADD CONSTRAINT api_comment_owner_id_2ff90561_fk_auth_user_id FOREIGN KEY (owner_id) REFERENCES public.auth_user(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: api_incident api_incident_camera_id_ddb78f44_fk_camera_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_incident
    ADD CONSTRAINT api_incident_camera_id_ddb78f44_fk_camera_id FOREIGN KEY (camera_id) REFERENCES public.camera(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: api_incident api_incident_incident_type_id_be74a911_fk_api_incidenttype_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_incident
    ADD CONSTRAINT api_incident_incident_type_id_be74a911_fk_api_incidenttype_id FOREIGN KEY (incident_type_id) REFERENCES public.api_incidenttype(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: api_incident api_incident_organization_id_6b0ae5e6_fk_api_organization_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_incident
    ADD CONSTRAINT api_incident_organization_id_6b0ae5e6_fk_api_organization_id FOREIGN KEY (organization_id) REFERENCES public.api_organization(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: api_incident api_incident_zone_id_e84b6d99_fk_zones_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_incident
    ADD CONSTRAINT api_incident_zone_id_e84b6d99_fk_zones_id FOREIGN KEY (zone_id) REFERENCES public.zones(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: api_incidentfeedback api_incidentfeedback_incident_id_53b0f8bd_fk; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_incidentfeedback
    ADD CONSTRAINT api_incidentfeedback_incident_id_53b0f8bd_fk FOREIGN KEY (incident_id) REFERENCES public.api_incident(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: api_incidentfeedback api_incidentfeedback_user_id_3d7ffaa7_fk_auth_user_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_incidentfeedback
    ADD CONSTRAINT api_incidentfeedback_user_id_3d7ffaa7_fk_auth_user_id FOREIGN KEY (user_id) REFERENCES public.auth_user(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: api_invitation api_invitation_invited_by_id_5c3b7c72_fk_auth_user_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_invitation
    ADD CONSTRAINT api_invitation_invited_by_id_5c3b7c72_fk_auth_user_id FOREIGN KEY (invited_by_id) REFERENCES public.auth_user(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: api_invitation api_invitation_invitee_id_5a763a43_fk_auth_user_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_invitation
    ADD CONSTRAINT api_invitation_invitee_id_5a763a43_fk_auth_user_id FOREIGN KEY (invitee_id) REFERENCES public.auth_user(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: api_invitation api_invitation_organization_id_a1ccdc95_fk_api_organization_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_invitation
    ADD CONSTRAINT api_invitation_organization_id_a1ccdc95_fk_api_organization_id FOREIGN KEY (organization_id) REFERENCES public.api_organization(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: api_invitation api_invitation_role_id_1f8764ad_fk_role_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_invitation
    ADD CONSTRAINT api_invitation_role_id_1f8764ad_fk_role_id FOREIGN KEY (role_id) REFERENCES public.role(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: api_invitation_zones api_invitation_zones_invitation_id_d9058d84_fk_api_invit; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_invitation_zones
    ADD CONSTRAINT api_invitation_zones_invitation_id_d9058d84_fk_api_invit FOREIGN KEY (invitation_id) REFERENCES public.api_invitation(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: api_invitation_zones api_invitation_zones_zone_id_d34b38ff_fk_zones_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_invitation_zones
    ADD CONSTRAINT api_invitation_zones_zone_id_d34b38ff_fk_zones_id FOREIGN KEY (zone_id) REFERENCES public.zones(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: api_list_incidents api_list_incidents_incident_id_27742a4b_fk; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_list_incidents
    ADD CONSTRAINT api_list_incidents_incident_id_27742a4b_fk FOREIGN KEY (incident_id) REFERENCES public.api_incident(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: api_list_incidents api_list_incidents_list_id_735e8839_fk; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_list_incidents
    ADD CONSTRAINT api_list_incidents_list_id_735e8839_fk FOREIGN KEY (list_id) REFERENCES public.api_list(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: api_list api_list_owner_id_945bb8c8_fk_auth_user_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_list
    ADD CONSTRAINT api_list_owner_id_945bb8c8_fk_auth_user_id FOREIGN KEY (owner_id) REFERENCES public.auth_user(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: api_notificationlog api_notificationlog_incident_id_3766cc43_fk_api_incident_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_notificationlog
    ADD CONSTRAINT api_notificationlog_incident_id_3766cc43_fk_api_incident_id FOREIGN KEY (incident_id) REFERENCES public.api_incident(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: api_notificationlog api_notificationlog_user_id_e7158509_fk_auth_user_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_notificationlog
    ADD CONSTRAINT api_notificationlog_user_id_e7158509_fk_auth_user_id FOREIGN KEY (user_id) REFERENCES public.auth_user(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: api_organization_users api_organization_users_organization_id_a538c02c_fk; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_organization_users
    ADD CONSTRAINT api_organization_users_organization_id_a538c02c_fk FOREIGN KEY (organization_id) REFERENCES public.api_organization(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: api_organization_users api_organization_users_user_id_d85b1b69_fk_auth_user_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_organization_users
    ADD CONSTRAINT api_organization_users_user_id_d85b1b69_fk_auth_user_id FOREIGN KEY (user_id) REFERENCES public.auth_user(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: api_organizationincidenttype api_organizationinci_incident_type_id_feb3f07a_fk_api_incid; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_organizationincidenttype
    ADD CONSTRAINT api_organizationinci_incident_type_id_feb3f07a_fk_api_incid FOREIGN KEY (incident_type_id) REFERENCES public.api_incidenttype(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: api_organizationincidenttype api_organizationinci_organization_id_3379cd0d_fk_api_organ; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_organizationincidenttype
    ADD CONSTRAINT api_organizationinci_organization_id_3379cd0d_fk_api_organ FOREIGN KEY (organization_id) REFERENCES public.api_organization(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: api_profile api_profile_organization_id_410907d7_fk; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_profile
    ADD CONSTRAINT api_profile_organization_id_410907d7_fk FOREIGN KEY (organization_id) REFERENCES public.api_organization(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: api_profile api_profile_owner_id_bb82c117_fk_auth_user_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_profile
    ADD CONSTRAINT api_profile_owner_id_bb82c117_fk_auth_user_id FOREIGN KEY (owner_id) REFERENCES public.auth_user(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: api_profile api_profile_site_id_e9a6c383_fk_zones_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_profile
    ADD CONSTRAINT api_profile_site_id_e9a6c383_fk_zones_id FOREIGN KEY (site_id) REFERENCES public.zones(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: api_sharelink api_sharelink_incident_id_b4950b2b_fk_api_incident_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_sharelink
    ADD CONSTRAINT api_sharelink_incident_id_b4950b2b_fk_api_incident_id FOREIGN KEY (incident_id) REFERENCES public.api_incident(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: api_sharelink api_sharelink_shared_by_id_c9390002_fk_auth_user_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_sharelink
    ADD CONSTRAINT api_sharelink_shared_by_id_c9390002_fk_auth_user_id FOREIGN KEY (shared_by_id) REFERENCES public.auth_user(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: api_userincident api_userincident_assigned_by_id_11ff5513_fk_auth_user_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_userincident
    ADD CONSTRAINT api_userincident_assigned_by_id_11ff5513_fk_auth_user_id FOREIGN KEY (assigned_by_id) REFERENCES public.auth_user(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: api_userincident api_userincident_assignee_id_f9fa864c_fk_auth_user_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_userincident
    ADD CONSTRAINT api_userincident_assignee_id_f9fa864c_fk_auth_user_id FOREIGN KEY (assignee_id) REFERENCES public.auth_user(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: api_userincident api_userincident_incident_id_4bb6e091_fk_api_incident_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_userincident
    ADD CONSTRAINT api_userincident_incident_id_4bb6e091_fk_api_incident_id FOREIGN KEY (incident_id) REFERENCES public.api_incident(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: api_userincident api_userincident_organization_id_a9ba5ef7_fk_api_organ; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.api_userincident
    ADD CONSTRAINT api_userincident_organization_id_a9ba5ef7_fk_api_organ FOREIGN KEY (organization_id) REFERENCES public.api_organization(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: auth_group_permissions auth_group_permissio_permission_id_84c5c92e_fk_auth_perm; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.auth_group_permissions
    ADD CONSTRAINT auth_group_permissio_permission_id_84c5c92e_fk_auth_perm FOREIGN KEY (permission_id) REFERENCES public.auth_permission(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: auth_group_permissions auth_group_permissions_group_id_b120cbf9_fk_auth_group_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.auth_group_permissions
    ADD CONSTRAINT auth_group_permissions_group_id_b120cbf9_fk_auth_group_id FOREIGN KEY (group_id) REFERENCES public.auth_group(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: auth_permission auth_permission_content_type_id_2f476e4b_fk_django_co; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.auth_permission
    ADD CONSTRAINT auth_permission_content_type_id_2f476e4b_fk_django_co FOREIGN KEY (content_type_id) REFERENCES public.django_content_type(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: auth_user_groups auth_user_groups_group_id_97559544_fk_auth_group_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.auth_user_groups
    ADD CONSTRAINT auth_user_groups_group_id_97559544_fk_auth_group_id FOREIGN KEY (group_id) REFERENCES public.auth_group(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: auth_user_groups auth_user_groups_user_id_6a12ed8b_fk_auth_user_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.auth_user_groups
    ADD CONSTRAINT auth_user_groups_user_id_6a12ed8b_fk_auth_user_id FOREIGN KEY (user_id) REFERENCES public.auth_user(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: auth_user_user_permissions auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.auth_user_user_permissions
    ADD CONSTRAINT auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm FOREIGN KEY (permission_id) REFERENCES public.auth_permission(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: auth_user_user_permissions auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.auth_user_user_permissions
    ADD CONSTRAINT auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id FOREIGN KEY (user_id) REFERENCES public.auth_user(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: authtoken_token authtoken_token_user_id_35299eff_fk_auth_user_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.authtoken_token
    ADD CONSTRAINT authtoken_token_user_id_35299eff_fk_auth_user_id FOREIGN KEY (user_id) REFERENCES public.auth_user(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: camera camera_edge_id_21ed6ee2_fk_edge_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.camera
    ADD CONSTRAINT camera_edge_id_21ed6ee2_fk_edge_id FOREIGN KEY (edge_id) REFERENCES public.edge(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: camera camera_lifecycle_7c211357_fk_camera_lifecycle_key; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.camera
    ADD CONSTRAINT camera_lifecycle_7c211357_fk_camera_lifecycle_key FOREIGN KEY (lifecycle) REFERENCES public.camera_lifecycle(key) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: camera camera_zone_id_d365139a_fk_zones_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.camera
    ADD CONSTRAINT camera_zone_id_d365139a_fk_zones_id FOREIGN KEY (zone_id) REFERENCES public.zones(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: cameraconfignew cameraconfignew_camera_id_cad68d12_fk_camera_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.cameraconfignew
    ADD CONSTRAINT cameraconfignew_camera_id_cad68d12_fk_camera_id FOREIGN KEY (camera_id) REFERENCES public.camera(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: camera cameras_organization_id_8f6e273a_fk_api_organization_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.camera
    ADD CONSTRAINT cameras_organization_id_8f6e273a_fk_api_organization_id FOREIGN KEY (organization_id) REFERENCES public.api_organization(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: django_admin_log django_admin_log_content_type_id_c4bce8eb_fk_django_co; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.django_admin_log
    ADD CONSTRAINT django_admin_log_content_type_id_c4bce8eb_fk_django_co FOREIGN KEY (content_type_id) REFERENCES public.django_content_type(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: django_admin_log django_admin_log_user_id_c564eba6_fk_auth_user_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.django_admin_log
    ADD CONSTRAINT django_admin_log_user_id_c564eba6_fk_auth_user_id FOREIGN KEY (user_id) REFERENCES public.auth_user(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: django_plotly_dash_dashapp django_plotly_dash_d_stateless_app_id_220444de_fk_django_pl; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.django_plotly_dash_dashapp
    ADD CONSTRAINT django_plotly_dash_d_stateless_app_id_220444de_fk_django_pl FOREIGN KEY (stateless_app_id) REFERENCES public.django_plotly_dash_statelessapp(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: door_event_aggregates door_event_aggregate_organization_id_27f8e792_fk_api_organ; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.door_event_aggregates
    ADD CONSTRAINT door_event_aggregate_organization_id_27f8e792_fk_api_organ FOREIGN KEY (organization_id) REFERENCES public.api_organization(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: door_event_aggregates door_event_aggregates_camera_id_921d2781_fk_camera_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.door_event_aggregates
    ADD CONSTRAINT door_event_aggregates_camera_id_921d2781_fk_camera_id FOREIGN KEY (camera_id) REFERENCES public.camera(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: door_event_aggregates door_event_aggregates_zone_id_88465020_fk_zones_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.door_event_aggregates
    ADD CONSTRAINT door_event_aggregates_zone_id_88465020_fk_zones_id FOREIGN KEY (zone_id) REFERENCES public.zones(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: door_open_aggregates door_open_aggregates_camera_id_55c5fcc3_fk_camera_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.door_open_aggregates
    ADD CONSTRAINT door_open_aggregates_camera_id_55c5fcc3_fk_camera_id FOREIGN KEY (camera_id) REFERENCES public.camera(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: door_open_aggregates door_open_aggregates_organization_id_b78d8d35_fk_api_organ; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.door_open_aggregates
    ADD CONSTRAINT door_open_aggregates_organization_id_b78d8d35_fk_api_organ FOREIGN KEY (organization_id) REFERENCES public.api_organization(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: door_open_aggregates door_open_aggregates_zone_id_9000f66f_fk_zones_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.door_open_aggregates
    ADD CONSTRAINT door_open_aggregates_zone_id_9000f66f_fk_zones_id FOREIGN KEY (zone_id) REFERENCES public.zones(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: edge edge_lifecycle_81ea466b_fk_edge_lifecycle_key; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.edge
    ADD CONSTRAINT edge_lifecycle_81ea466b_fk_edge_lifecycle_key FOREIGN KEY (lifecycle) REFERENCES public.edge_lifecycle(key) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: edge edge_organization_id_4a2f88eb_fk_api_organization_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.edge
    ADD CONSTRAINT edge_organization_id_4a2f88eb_fk_api_organization_id FOREIGN KEY (organization_id) REFERENCES public.api_organization(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: ergonomics_aggregates ergonomics_aggregate_organization_id_737ca76c_fk_api_organ; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.ergonomics_aggregates
    ADD CONSTRAINT ergonomics_aggregate_organization_id_737ca76c_fk_api_organ FOREIGN KEY (organization_id) REFERENCES public.api_organization(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: ergonomics_aggregates ergonomics_aggregates_camera_id_88c8eefb_fk_camera_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.ergonomics_aggregates
    ADD CONSTRAINT ergonomics_aggregates_camera_id_88c8eefb_fk_camera_id FOREIGN KEY (camera_id) REFERENCES public.camera(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: ergonomics_aggregates ergonomics_aggregates_zone_id_9246a804_fk_zones_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.ergonomics_aggregates
    ADD CONSTRAINT ergonomics_aggregates_zone_id_9246a804_fk_zones_id FOREIGN KEY (zone_id) REFERENCES public.zones(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: motion_zone motion_zone_camera_id_5b4f4c3f_fk_camera_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.motion_zone
    ADD CONSTRAINT motion_zone_camera_id_5b4f4c3f_fk_camera_id FOREIGN KEY (camera_id) REFERENCES public.camera(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: motion_zone motion_zone_organization_id_ce367d90_fk_api_organization_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.motion_zone
    ADD CONSTRAINT motion_zone_organization_id_ce367d90_fk_api_organization_id FOREIGN KEY (organization_id) REFERENCES public.api_organization(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: motion_zone motion_zone_zone_id_d18d9fe9_fk_zones_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.motion_zone
    ADD CONSTRAINT motion_zone_zone_id_d18d9fe9_fk_zones_id FOREIGN KEY (zone_id) REFERENCES public.zones(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: partial_incident partial_incident_camera_id_c6ce6ec3_fk_camera_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.partial_incident
    ADD CONSTRAINT partial_incident_camera_id_c6ce6ec3_fk_camera_id FOREIGN KEY (camera_id) REFERENCES public.camera(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: partial_incident partial_incident_incident_type_id_29bc277c_fk_api_incid; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.partial_incident
    ADD CONSTRAINT partial_incident_incident_type_id_29bc277c_fk_api_incid FOREIGN KEY (incident_type_id) REFERENCES public.api_incidenttype(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: partial_incident partial_incident_organization_id_19ca7ce0_fk_api_organ; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.partial_incident
    ADD CONSTRAINT partial_incident_organization_id_19ca7ce0_fk_api_organ FOREIGN KEY (organization_id) REFERENCES public.api_organization(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: partial_incident partial_incident_zone_id_77785ca5_fk_zones_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.partial_incident
    ADD CONSTRAINT partial_incident_zone_id_77785ca5_fk_zones_id FOREIGN KEY (zone_id) REFERENCES public.zones(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: perceived_event_rate_hourly perceived_event_rate_definition_id_3562869d_fk_perceived; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.perceived_event_rate_hourly
    ADD CONSTRAINT perceived_event_rate_definition_id_3562869d_fk_perceived FOREIGN KEY (definition_id) REFERENCES public.perceived_event_rate_definition(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: perceived_event_rate_hourly perceived_event_rate_hourly_camera_id_79413b38_fk_camera_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.perceived_event_rate_hourly
    ADD CONSTRAINT perceived_event_rate_hourly_camera_id_79413b38_fk_camera_id FOREIGN KEY (camera_id) REFERENCES public.camera(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: perceived_event_rate_definition perceived_event_rate_incident_type_id_21f13fef_fk_api_incid; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.perceived_event_rate_definition
    ADD CONSTRAINT perceived_event_rate_incident_type_id_21f13fef_fk_api_incid FOREIGN KEY (incident_type_id) REFERENCES public.api_incidenttype(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: ppe_aggregates ppe_aggregates_camera_id_08ba3090_fk_camera_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.ppe_aggregates
    ADD CONSTRAINT ppe_aggregates_camera_id_08ba3090_fk_camera_id FOREIGN KEY (camera_id) REFERENCES public.camera(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: ppe_aggregates ppe_aggregates_organization_id_4b51287f_fk_api_organization_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.ppe_aggregates
    ADD CONSTRAINT ppe_aggregates_organization_id_4b51287f_fk_api_organization_id FOREIGN KEY (organization_id) REFERENCES public.api_organization(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: ppe_aggregates ppe_aggregates_zone_id_7adad3b9_fk_zones_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.ppe_aggregates
    ADD CONSTRAINT ppe_aggregates_zone_id_7adad3b9_fk_zones_id FOREIGN KEY (zone_id) REFERENCES public.zones(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: production_line_aggregate production_line_aggr_organization_id_2cdf523a_fk_api_organ; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.production_line_aggregate
    ADD CONSTRAINT production_line_aggr_organization_id_2cdf523a_fk_api_organ FOREIGN KEY (organization_id) REFERENCES public.api_organization(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: production_line_aggregate production_line_aggr_production_line_id_8f6ad766_fk_productio; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.production_line_aggregate
    ADD CONSTRAINT production_line_aggr_production_line_id_8f6ad766_fk_productio FOREIGN KEY (production_line_id) REFERENCES public.production_line(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: production_line_aggregate production_line_aggregate_camera_id_e537cd0b_fk_camera_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.production_line_aggregate
    ADD CONSTRAINT production_line_aggregate_camera_id_e537cd0b_fk_camera_id FOREIGN KEY (camera_id) REFERENCES public.camera(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: production_line_aggregate production_line_aggregate_zone_id_95162c7a_fk_zones_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.production_line_aggregate
    ADD CONSTRAINT production_line_aggregate_zone_id_95162c7a_fk_zones_id FOREIGN KEY (zone_id) REFERENCES public.zones(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: production_line production_line_camera_id_60c50a69_fk_camera_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.production_line
    ADD CONSTRAINT production_line_camera_id_60c50a69_fk_camera_id FOREIGN KEY (camera_id) REFERENCES public.camera(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: production_line production_line_organization_id_3f915509_fk_api_organization_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.production_line
    ADD CONSTRAINT production_line_organization_id_3f915509_fk_api_organization_id FOREIGN KEY (organization_id) REFERENCES public.api_organization(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: production_line production_line_zone_id_d3f442c1_fk_zones_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.production_line
    ADD CONSTRAINT production_line_zone_id_d3f442c1_fk_zones_id FOREIGN KEY (zone_id) REFERENCES public.zones(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: role role_organization_id_d00f912a_fk_api_organization_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.role
    ADD CONSTRAINT role_organization_id_d00f912a_fk_api_organization_id FOREIGN KEY (organization_id) REFERENCES public.api_organization(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: role_permission role_permission_assigned_by_id_d7a6a23d_fk_auth_user_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.role_permission
    ADD CONSTRAINT role_permission_assigned_by_id_d7a6a23d_fk_auth_user_id FOREIGN KEY (assigned_by_id) REFERENCES public.auth_user(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: role_permission role_permission_removed_by_id_dce55ff0_fk_auth_user_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.role_permission
    ADD CONSTRAINT role_permission_removed_by_id_dce55ff0_fk_auth_user_id FOREIGN KEY (removed_by_id) REFERENCES public.auth_user(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: role_permission role_permission_role_id_877a80a4_fk_role_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.role_permission
    ADD CONSTRAINT role_permission_role_id_877a80a4_fk_role_id FOREIGN KEY (role_id) REFERENCES public.role(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: role role_zone_id_dea2f53a_fk_zones_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.role
    ADD CONSTRAINT role_zone_id_dea2f53a_fk_zones_id FOREIGN KEY (zone_id) REFERENCES public.zones(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: site_incident_type site_incident_type_incident_type_id_4b39c64e_fk_api_incid; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.site_incident_type
    ADD CONSTRAINT site_incident_type_incident_type_id_4b39c64e_fk_api_incid FOREIGN KEY (incident_type_id) REFERENCES public.api_incidenttype(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: site_incident_type site_incident_type_site_id_e1779d65_fk_zones_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.site_incident_type
    ADD CONSTRAINT site_incident_type_site_id_e1779d65_fk_zones_id FOREIGN KEY (site_id) REFERENCES public.zones(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: user_role user_role_assigned_by_id_35a6b317_fk_auth_user_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.user_role
    ADD CONSTRAINT user_role_assigned_by_id_35a6b317_fk_auth_user_id FOREIGN KEY (assigned_by_id) REFERENCES public.auth_user(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: user_role user_role_removed_by_id_2958c0d8_fk_auth_user_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.user_role
    ADD CONSTRAINT user_role_removed_by_id_2958c0d8_fk_auth_user_id FOREIGN KEY (removed_by_id) REFERENCES public.auth_user(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: user_role user_role_role_id_6a11361a_fk_role_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.user_role
    ADD CONSTRAINT user_role_role_id_6a11361a_fk_role_id FOREIGN KEY (role_id) REFERENCES public.role(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: user_role user_role_user_id_12d84374_fk_auth_user_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.user_role
    ADD CONSTRAINT user_role_user_id_12d84374_fk_auth_user_id FOREIGN KEY (user_id) REFERENCES public.auth_user(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: zone_compliance_type zone_compliance_type_compliance_type_id_71f9174f_fk_complianc; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.zone_compliance_type
    ADD CONSTRAINT zone_compliance_type_compliance_type_id_71f9174f_fk_complianc FOREIGN KEY (compliance_type_id) REFERENCES public.compliance_type(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: zone_compliance_type zone_compliance_type_zone_id_36e465f2_fk_zones_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.zone_compliance_type
    ADD CONSTRAINT zone_compliance_type_zone_id_36e465f2_fk_zones_id FOREIGN KEY (zone_id) REFERENCES public.zones(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: zones zones_organization_id_834e7b3e_fk_api_organization_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.zones
    ADD CONSTRAINT zones_organization_id_834e7b3e_fk_api_organization_id FOREIGN KEY (organization_id) REFERENCES public.api_organization(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: zones zones_parent_zone_id_8de173dd_fk_zones_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.zones
    ADD CONSTRAINT zones_parent_zone_id_8de173dd_fk_zones_id FOREIGN KEY (parent_zone_id) REFERENCES public.zones(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: zones_zoneuser zones_zoneuser_user_id_51873474_fk_auth_user_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.zones_zoneuser
    ADD CONSTRAINT zones_zoneuser_user_id_51873474_fk_auth_user_id FOREIGN KEY (user_id) REFERENCES public.auth_user(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: zones_zoneuser zones_zoneuser_zone_id_e4e811a9_fk_zones_id; Type: FK CONSTRAINT; Schema: public; Owner: voxelapp
--

ALTER TABLE ONLY public.zones_zoneuser
    ADD CONSTRAINT zones_zoneuser_zone_id_e4e811a9_fk_zones_id FOREIGN KEY (zone_id) REFERENCES public.zones(id) DEFERRABLE INITIALLY DEFERRED;


--
-- PostgreSQL database dump complete
--

