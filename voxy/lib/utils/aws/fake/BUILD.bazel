load("@io_bazel_rules_go//go:def.bzl", "go_library")

go_library(
    name = "generate",
    srcs = ["generate.go"],
    importpath = "github.com/voxel-ai/voxel/lib/utils/aws/fakes",
    visibility = ["//visibility:public"],
    deps = [
        "@com_github_aws_aws_sdk_go_v2_service_cloudwatch//:cloudwatch",
        "@com_github_aws_aws_sdk_go_v2_service_kinesisvideo//:kinesisvideo",
        "@com_github_aws_aws_sdk_go_v2_service_kinesisvideoarchivedmedia//:kinesisvideoarchivedmedia",
        "@com_github_aws_aws_sdk_go_v2_service_s3//:s3",
        "@com_github_aws_aws_sdk_go_v2_service_secretsmanager//:secretsmanager",
        "@com_github_aws_aws_sdk_go_v2_service_sts//:sts",
    ],
)

go_library(
    name = "fake",
    srcs = [
        "cloudwatch_client.go",
        "fake_kinesis_video_client.go",
        "generate.go",
        "kinesis_video_archived_media_client.go",
        "kinesis_video_client.go",
        "s3client.go",
        "secrets_manager_client.go",
        "stsclient.go",
    ],
    importpath = "github.com/voxel-ai/voxel/lib/utils/aws/fake",
    visibility = ["//visibility:public"],
    deps = [
        "@com_github_aws_aws_sdk_go_v2_service_cloudwatch//:cloudwatch",
        "@com_github_aws_aws_sdk_go_v2_service_kinesisvideo//:kinesisvideo",
        "@com_github_aws_aws_sdk_go_v2_service_kinesisvideoarchivedmedia//:kinesisvideoarchivedmedia",
        "@com_github_aws_aws_sdk_go_v2_service_s3//:s3",
        "@com_github_aws_aws_sdk_go_v2_service_secretsmanager//:secretsmanager",
        "@com_github_aws_aws_sdk_go_v2_service_sts//:sts",
    ],
)
